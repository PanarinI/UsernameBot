- [ ]
- [x]
## To-do

- [ ] База данных

- [ ] описание уникальных преимуществ бота
- [ ] дизайн персонажа бота
- [ ] импортировать названия моделей AI списком для удобства выбора
- [ ] настроить промпт чтобы не выдавало but в username без прямого указания от пользователя (тумблер - "бот")
- [ ] кнопка выбора режима создания имени именно для бота (проконсультироваться)
- [ ] изучить логирование
- [ ] где время таймаута при генерации?
- [ ] все генерации должны сохраняться - как занятые так и свободные
- [ ] функцию логирования перенести в отдельный модуль из конфига
- [ ] выводить интересный лог при генерировании
- [ ] установить лимиты на количество попыток (если всё занято, чтобы не было бесконечности); время ответа модели (чтобы не было бесконечного ожидания ответа)
- [ ] как настроить requirements
- [ ] настроить SSL на продакшне
- [ ] исследовать cli ("Если ты работаешь в терминале или PyCharm, это очень удобный инструмент для тестов и отладки")
- [ ] кнопки настройки генерации в интерфейс (температура, количество - может быть лишнее)
- [ ] автоматическое создание changelog'а было бы неплохо 
- [ ] Механизм предотвращения бесконечных/избыточных запросов генерации. (При генерации с моделью deepseek-r1 возвращает None: DeepAttributeError: 'NoneType' object has no attribute 'strip'. 
- [ ] вебхук на продакшн
- [ ] описать возможности настройки бота через конфиг
- [ ] оптимизировать количество запросов - чтобы за 1 запрос получался список из трёх
- [ ] bug после генерации если ввести заново не нажав на кнопку - ничего не произойдет. Нужно вывести подсказку при введении вроде "выберите действие"
- [ ] красиво оформить тексты кнопок и описаний
- [ ] изменить формат f"Вот сгенерированные для вас username по теме '{context_text}':", чтобы отличалось
- [ ] бесплатный AI API?
- [ ] user_flow вторая версия 
- [ ] нарисовать диаграммы для user_flow
- [ ] первая задача БЗ - составить базу свободных username из 5 символов.
- [ ] вторая задача БЗ - составить БЗ invalid (freak, putin, trump), свободных и занятых username из 5 символов - для анализа

## В процессе


- [ ] Опция - транслит (добавляет в промпт указание)

- [ ] определить концепцию базы данных
- [ ] если invalid - значит надо как-то это в проверку заложить. Или хотя бы предупредить если выпадет invalid

- [ ] функция копирования сгенерированных ответов (по ЛКМ)
- 
## Завершённые
- 30.02 - 4.02
- [x] Реализовать базовую генерацию username.
- [x] перенести конфиденциальые данные в .env (python-dotenv)
- [x] Не работает кнопка "сгенерировать еще раз" после генерации # callback присвоил "generate", тот же что при первой генерации. 
- [x] Реализовать базовое логирование # реализовано  для service.generate, режим DEBUG 
- [x] перенести регулировку количества генераций и выводов на клавиатуру в config. Протестировать условия
- [x] Создана mmd-диаграма tech_flow (в трех версиях)
- [x] Организация документации
- [x] Комментирование модулей  - services и handlers
- [x] Проработать README с навигацией по документации
- [x] bug бесконечный цикл генерации одного и того же занятого username -- fix: не абсолютный. добавил в промпт "уникальных" + увеличил партию gen=5, avail=3. Вероятность цикла минимальна.
- [x] При ошибки генерации добавить навигацию с возвратом в меню или повтором операции
- [x] Первичное тестирование моделей # gemini-flash
- [x] user_flow базово 
- [x] диаграммы tech_flow --> mmd
- 05.02.2025
- [x] убрать .env из ёбаного гитхаба. Сука!
- [x] Исправить проблему генерации: если нужен бот (чётко прописано в контексте или реализовано как checkbox: бот / канал / сообщество), то валидный только с "bot" на конце 
- [x] добавить команды типа /start для generate и check 
- [x] тестирование всей навигации на логику
- 06.02.2025
- [x] Переделать меню, чтобы прежняя клавиатура исчезала - вариант редактирования предыдущего сообщения -- оказался от идеи. пусть сохраняется как чат
- [x] Приделать кнопки возврата в меню из состояний FSM
- [x] протестировать как работает git branch